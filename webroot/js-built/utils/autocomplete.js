define(["jquery","bootstrap"],function(e){return init=function(t){typeof t=="undefined"&&(t=".autocomplete"),e(t).typeahead({minLength:3,source:function(t,n){return input_id=e(this.$element).attr("id").toDash().split("-"),input_id.shift(),controller=input_id.shift()+"s",needle=input_id.join("_"),e.getJSON(baseUrl+controller+"/autocomplete/"+needle,{term:t},function(e){return n(e)})}})},{init:init}});